var cachedScrollbarWidth,max=Math.max,abs=Math.abs,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[+-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(t,i,e){return[parseFloat(t[0])*(rpercent.test(t[0])?i/100:1),parseFloat(t[1])*(rpercent.test(t[1])?e/100:1)]}function parseCss(t,i){return parseInt($.css(t,i),10)||0}function getDimensions(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:$.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}$.position={scrollbarWidth:function(){if(void 0!==cachedScrollbarWidth)return cachedScrollbarWidth;var t,i,e=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=e.children()[0];return $("body").append(e),t=o.offsetWidth,e.css("overflow","scroll"),t===(i=o.offsetWidth)&&(i=e[0].clientWidth),e.remove(),cachedScrollbarWidth=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),e=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&t.height<t.element[0].scrollHeight?$.position.scrollbarWidth():0,height:o?$.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=$(t||window),e=$.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:e,isDocument:o,offset:!e&&!o?$(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},$.fn.position=function(t){if(!t||!t.of)return _position.apply(this,arguments);t=$.extend({},t);var i,e,o,l,n,s,r=$(t.of),f=$.position.getWithinInfo(t.within),h=$.position.getScrollInfo(f),a=(t.collision||"flip").split(" "),c={};return s=getDimensions(r),r[0].preventDefault&&(t.at="left top"),e=s.width,o=s.height,l=s.offset,n=$.extend({},l),$.each(["my","at"],function(){var i,e,o=(t[this]||"").split(" ");1===o.length&&(o=rhorizontal.test(o[0])?o.concat(["center"]):rvertical.test(o[0])?["center"].concat(o):["center","center"]),o[0]=rhorizontal.test(o[0])?o[0]:"center",o[1]=rvertical.test(o[1])?o[1]:"center",i=roffset.exec(o[0]),e=roffset.exec(o[1]),c[this]=[i?i[0]:0,e?e[0]:0],t[this]=[rposition.exec(o[0])[0],rposition.exec(o[1])[0]]}),1===a.length&&(a[1]=a[0]),"right"===t.at[0]?n.left+=e:"center"===t.at[0]&&(n.left+=e/2),"bottom"===t.at[1]?n.top+=o:"center"===t.at[1]&&(n.top+=o/2),i=getOffsets(c.at,e,o),n.left+=i[0],n.top+=i[1],this.each(function(){var s,p,d=$(this),g=d.outerWidth(),m=d.outerHeight(),u=parseCss(this,"marginLeft"),w=parseCss(this,"marginTop"),W=g+u+parseCss(this,"marginRight")+h.width,v=m+w+parseCss(this,"marginBottom")+h.height,b=$.extend({},n),y=getOffsets(c.my,d.outerWidth(),d.outerHeight());"right"===t.my[0]?b.left-=g:"center"===t.my[0]&&(b.left-=g/2),"bottom"===t.my[1]?b.top-=m:"center"===t.my[1]&&(b.top-=m/2),b.left+=y[0],b.top+=y[1],s={marginLeft:u,marginTop:w},$.each(["left","top"],function(l,n){$.ui.position[a[l]]&&$.ui.position[a[l]][n](b,{targetWidth:e,targetHeight:o,elemWidth:g,elemHeight:m,collisionPosition:s,collisionWidth:W,collisionHeight:v,offset:[i[0]+y[0],i[1]+y[1]],my:t.my,at:t.at,within:f,elem:d})}),t.using&&(p=function(i){var n=l.left-b.left,s=n+e-g,f=l.top-b.top,h=f+o-m,a={target:{element:r,left:l.left,top:l.top,width:e,height:o},element:{element:d,left:b.left,top:b.top,width:g,height:m},horizontal:s<0?"left":n>0?"right":"center",vertical:h<0?"top":f>0?"bottom":"middle"};e<g&&abs(n+s)<e&&(a.horizontal="center"),o<m&&abs(f+h)<o&&(a.vertical="middle"),max(abs(n),abs(s))>max(abs(f),abs(h))?a.important="horizontal":a.important="vertical",t.using.call(this,i,a)}),d.offset($.extend(b,{using:p}))})},$.ui.position={fit:{left:function(t,i){var e,o=i.within,l=o.isWindow?o.scrollLeft:o.offset.left,n=o.width,s=t.left-i.collisionPosition.marginLeft,r=l-s,f=s+i.collisionWidth-n-l;i.collisionWidth>n?r>0&&f<=0?(e=t.left+r+i.collisionWidth-n-l,t.left+=r-e):t.left=f>0&&r<=0?l:r>f?l+n-i.collisionWidth:l:r>0?t.left+=r:f>0?t.left-=f:t.left=max(t.left-s,t.left)},top:function(t,i){var e,o=i.within,l=o.isWindow?o.scrollTop:o.offset.top,n=i.within.height,s=t.top-i.collisionPosition.marginTop,r=l-s,f=s+i.collisionHeight-n-l;i.collisionHeight>n?r>0&&f<=0?(e=t.top+r+i.collisionHeight-n-l,t.top+=r-e):t.top=f>0&&r<=0?l:r>f?l+n-i.collisionHeight:l:r>0?t.top+=r:f>0?t.top-=f:t.top=max(t.top-s,t.top)}},flip:{left:function(t,i){var e,o,l=i.within,n=l.offset.left+l.scrollLeft,s=l.width,r=l.isWindow?l.scrollLeft:l.offset.left,f=t.left-i.collisionPosition.marginLeft,h=f-r,a=f+i.collisionWidth-s-r,c="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,p="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,d=-2*i.offset[0];h<0?((e=t.left+c+p+d+i.collisionWidth-s-n)<0||e<abs(h))&&(t.left+=c+p+d):a>0&&((o=t.left-i.collisionPosition.marginLeft+c+p+d-r)>0||abs(o)<a)&&(t.left+=c+p+d)},top:function(t,i){var e,o,l=i.within,n=l.offset.top+l.scrollTop,s=l.height,r=l.isWindow?l.scrollTop:l.offset.top,f=t.top-i.collisionPosition.marginTop,h=f-r,a=f+i.collisionHeight-s-r,c="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,p="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,d=-2*i.offset[1];h<0?((o=t.top+c+p+d+i.collisionHeight-s-n)<0||o<abs(h))&&(t.top+=c+p+d):a>0&&((e=t.top-i.collisionPosition.marginTop+c+p+d-r)>0||abs(e)<a)&&(t.top+=c+p+d)}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}};
//# sourceMappingURL=jq-ui-position.js.map