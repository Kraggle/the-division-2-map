{"version":3,"sources":["comment.js"],"names":["CodeMirror","noOptions","nonWS","Pos","firstNonWS","str","found","search","probablyInsideString","cm","pos","line","test","getTokenTypeAt","getMode","mode","useInnerComments","innerMode","getModeAt","commands","toggleComment","defineExtension","options","minLine","Infinity","ranges","this","listSelections","i","length","from","to","uncomment","lineComment","self","firstLine","getLine","commentString","end","Math","min","ch","lastLine","pad","padding","blankLines","commentBlankLines","operation","indent","baseString","whitespace","slice","cut","replaceRange","blockCommentStart","fullLines","blockComment","startString","endString","blockCommentEnd","lastLineHasText","lead","blockCommentLead","didSomething","start","lineString","lines","indexOf","push","endPos","startLine","open","endLine","close","insideStart","insideEnd","getRange","lastStart","lastIndexOf","firstEnd","almostLastStart","openEnd","foundEnd"],"mappings":"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","file":"comment.js"}