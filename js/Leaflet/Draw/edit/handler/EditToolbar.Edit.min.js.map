{"version":3,"sources":["EditToolbar.Edit.js"],"names":["L","EditToolbar","Edit","Evented","extend","Handler","include","initialize","map","options","prototype","call","this","setOptions","_featureGroup","featureGroup","FeatureGroup","Error","_uneditedLayerProps","type","enable","_enabled","_hasAvailableLayers","fire","handler","_map","Draw","Event","EDITSTART","on","_enableLayerEdit","_disableLayerEdit","disable","off","EDITSTOP","addHooks","getContainer","focus","eachLayer","_tooltip","Tooltip","updateContent","text","drawLocal","edit","handlers","tooltip","subtext","_editTooltip","_updateTooltip","_onMouseMove","EDITVERTEX","removeHooks","dispose","revertLayers","layer","_revertLayer","save","editedLayers","LayerGroup","edited","addLayer","EDITED","layers","_backupLayer","id","Util","stamp","Polyline","Polygon","Rectangle","latlngs","LatLngUtil","cloneLatLngs","getLatLngs","Circle","latlng","cloneLatLng","getLatLng","radius","getRadius","Marker","_getTooltipText","hasOwnProperty","setLatLngs","setLatLng","setRadius","e","pathOptions","poly","target","selectedPathOptions","maintainColor","color","fillColor","original","editing","dragging","_onMarkerDragEnd","_onTouchMove","_selectedPathOptions","_toggleMarkerHighlight","setStyle","previousOptions","updatePosition","EDITMOVE","touchEvent","originalEvent","changedTouches","layerPoint","mouseEventToLayerPoint","layerPointToLatLng","getLayers","length"],"mappings":"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","file":"EditToolbar.Edit.js"}