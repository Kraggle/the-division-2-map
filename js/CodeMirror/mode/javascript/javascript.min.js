import{CodeMirror}from"../../lib/codemirror.js";CodeMirror.defineMode("javascript",function(e,r){var t,n,a=e.indentUnit,i=r.statementIndent,o=r.jsonld,c=r.json||o,s=r.typescript,u=r.wordCharacters||/[\w$\xa1-\uffff]/,l=function(){function e(e){return{type:e,style:"keyword"}}var r=e("keyword a"),t=e("keyword b"),n=e("keyword c"),a=e("keyword d"),i=e("operator"),o={type:"atom",style:"atom"};return{if:e("if"),while:r,with:r,else:t,do:t,try:t,finally:t,return:a,break:a,continue:a,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),f=/[+\-*&%=<>!?|~^@]/,d=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function p(e,r,a){return t=e,n=a,r}function m(e,r){var t,n=e.next();if('"'==n||"'"==n)return r.tokenize=(t=n,function(e,r){var n,a=!1;if(o&&"@"==e.peek()&&e.match(d))return r.tokenize=m,p("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=t||a);)a=!a&&"\\"==n;return a||(r.tokenize=m),p("string","string")}),r.tokenize(e,r);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return p("number","number");if("."==n&&e.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return p(n);if("="==n&&e.eat(">"))return p("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return p("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),p("number","number");if("/"==n)return e.eat("*")?(r.tokenize=v,v(e,r)):e.eat("/")?(e.skipToEnd(),p("comment","comment")):Ke(e,r,1)?(function(e){for(var r,t=!1,n=!1;null!=(r=e.next());){if(!t){if("/"==r&&!n)return;"["==r?n=!0:n&&"]"==r&&(n=!1)}t=!t&&"\\"==r}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string-2")):(e.eat("="),p("operator","operator",e.current()));if("`"==n)return r.tokenize=k,k(e,r);if("#"==n)return e.skipToEnd(),p("error","error");if(f.test(n))return">"==n&&r.lexical&&">"==r.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),p("operator","operator",e.current());if(u.test(n)){e.eatWhile(u);var a=e.current();if("."!=r.lastType){if(l.propertyIsEnumerable(a)){var i=l[a];return p(i.type,i.style,a)}if("async"==a&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",a)}return p("variable","variable",a)}}function v(e,r){for(var t,n=!1;t=e.next();){if("/"==t&&n){r.tokenize=m;break}n="*"==t}return p("comment","comment")}function k(e,r){for(var t,n=!1;null!=(t=e.next());){if(!n&&("`"==t||"$"==t&&e.eat("{"))){r.tokenize=m;break}n=!n&&"\\"==t}return p("quasi","string-2",e.current())}var y="([{}])";function w(e,r){r.fatArrowAt&&(r.fatArrowAt=null);var t=e.string.indexOf("=>",e.start);if(!(t<0)){if(s){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,t));n&&(t=n.index)}for(var a=0,i=!1,o=t-1;o>=0;--o){var c=e.string.charAt(o),l=y.indexOf(c);if(l>=0&&l<3){if(!a){++o;break}if(0==--a){"("==c&&(i=!0);break}}else if(l>=3&&l<6)++a;else if(u.test(c))i=!0;else if(/["'\/`]/.test(c))for(;;--o){if(0==o)return;if(e.string.charAt(o-1)==c&&"\\"!=e.string.charAt(o-2)){o--;break}}else if(i&&!a){++o;break}}i&&!a&&(r.fatArrowAt=o)}}var b={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function x(e,r,t,n,a,i){this.indented=e,this.column=r,this.type=t,this.prev=a,this.info=i,null!=n&&(this.align=n)}function h(e,r){for(var t=e.localVars;t;t=t.next)if(t.name==r)return!0;for(var n=e.context;n;n=n.prev)for(t=n.vars;t;t=t.next)if(t.name==r)return!0}var g={state:null,column:null,marked:null,cc:null};function M(){for(var e=arguments.length-1;e>=0;e--)g.cc.push(arguments[e])}function j(){return M.apply(null,arguments),!0}function C(e,r){for(var t=r;t;t=t.next)if(t.name==e)return!0;return!1}function A(e){var t=g.state;if(g.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=function e(r,t){if(t){if(t.block){var n=e(r,t.prev);return n?n==t.prev?t:new E(n,t.vars,!0):null}return C(r,t.vars)?t:new E(t.prev,new z(r,t.vars),!1)}return null}(e,t.context);if(null!=n)return void(t.context=n)}else if(!C(e,t.localVars))return void(t.localVars=new z(e,t.localVars));r.globalVars&&!C(e,t.globalVars)&&(t.globalVars=new z(e,t.globalVars))}function V(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function E(e,r,t){this.prev=e,this.vars=r,this.block=t}function z(e,r){this.name=e,this.next=r}var I=new z("this",new z("arguments",null));function T(){g.state.context=new E(g.state.context,g.state.localVars,!1),g.state.localVars=I}function $(){g.state.context=new E(g.state.context,g.state.localVars,!0),g.state.localVars=null}function _(){g.state.localVars=g.state.context.vars,g.state.context=g.state.context.prev}function O(e,r){var t=function(){var t=g.state,n=t.indented;if("stat"==t.lexical.type)n=t.lexical.indented;else for(var a=t.lexical;a&&")"==a.type&&a.align;a=a.prev)n=a.indented;t.lexical=new x(n,g.stream.column(),e,null,t.lexical,r)};return t.lex=!0,t}function q(){var e=g.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function P(e){return function r(t){return t==e?j():";"==e||"}"==t||")"==t||"]"==t?M():j(r)}}function S(e,r){return"var"==e?j(O("vardef",r),we,P(";"),q):"keyword a"==e?j(O("form"),F,S,q):"keyword b"==e?j(O("form"),S,q):"keyword d"==e?g.stream.match(/^\s*$/,!1)?j():j(O("stat"),W,P(";"),q):"debugger"==e?j(P(";")):"{"==e?j(O("}"),$,ie,q,_):";"==e?j():"if"==e?("else"==g.state.lexical.info&&g.state.cc[g.state.cc.length-1]==q&&g.state.cc.pop()(),j(O("form"),F,S,q,je)):"function"==e?j(Ee):"for"==e?j(O("form"),Ce,S,q):"class"==e||s&&"interface"==r?(g.marked="keyword",j(O("form","class"==e?e:r),_e,q)):"variable"==e?s&&"declare"==r?(g.marked="keyword",j(S)):s&&("module"==r||"enum"==r||"type"==r)&&g.stream.match(/^\s*\w/,!1)?(g.marked="keyword","enum"==r?j(Ge):"type"==r?j(Ie,P("operator"),le,P(";")):j(O("form"),be,P("{"),O("}"),ie,q,q)):s&&"namespace"==r?(g.marked="keyword",j(O("form"),U,S,q)):s&&"abstract"==r?(g.marked="keyword",j(S)):j(O("stat"),Y):"switch"==e?j(O("form"),F,P("{"),O("}","switch"),$,ie,q,q,_):"case"==e?j(U,P(":")):"default"==e?j(P(":")):"catch"==e?j(O("form"),T,N,S,q,_):"export"==e?j(O("stat"),Se,q):"import"==e?j(O("stat"),Ue,q):"async"==e?j(S):"@"==r?j(U,S):M(O("stat"),U,P(";"),q)}function N(e){if("("==e)return j(Te,P(")"))}function U(e,r){return H(e,r,!1)}function B(e,r){return H(e,r,!0)}function F(e){return"("!=e?M():j(O(")"),U,P(")"),q)}function H(e,r,t){if(g.state.fatArrowAt==g.stream.start){var n=t?Q:L;if("("==e)return j(T,O(")"),ne(Te,")"),q,P("=>"),n,_);if("variable"==e)return M(T,be,P("=>"),n,_)}var a=t?G:D;return b.hasOwnProperty(e)?j(a):"function"==e?j(Ee,a):"class"==e||s&&"interface"==r?(g.marked="keyword",j(O("form"),$e,q)):"keyword c"==e||"async"==e?j(t?B:U):"("==e?j(O(")"),W,P(")"),q,a):"operator"==e||"spread"==e?j(t?B:U):"["==e?j(O("]"),De,q,a):"{"==e?ae(ee,"}",null,a):"quasi"==e?M(J,a):"new"==e?j(function(e){return function(r){return"."==r?j(e?X:R):"variable"==r&&s?j(ve,e?G:D):M(e?B:U)}}(t)):"import"==e?j(U):j()}function W(e){return e.match(/[;\}\)\],]/)?M():M(U)}function D(e,r){return","==e?j(U):G(e,r,!1)}function G(e,r,t){var n=0==t?D:G,a=0==t?U:B;return"=>"==e?j(T,t?Q:L,_):"operator"==e?/\+\+|--/.test(r)||s&&"!"==r?j(n):s&&"<"==r&&g.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?j(O(">"),ne(le,">"),q,n):"?"==r?j(U,P(":"),a):j(a):"quasi"==e?M(J,n):";"!=e?"("==e?ae(B,")","call",n):"."==e?j(Z,n):"["==e?j(O("]"),W,P("]"),q,n):s&&"as"==r?(g.marked="keyword",j(le,n)):"regexp"==e?(g.state.lastType=g.marked="operator",g.stream.backUp(g.stream.pos-g.stream.start-1),j(a)):void 0:void 0}function J(e,r){return"quasi"!=e?M():"${"!=r.slice(r.length-2)?j(J):j(U,K)}function K(e){if("}"==e)return g.marked="string-2",g.state.tokenize=k,j(J)}function L(e){return w(g.stream,g.state),M("{"==e?S:U)}function Q(e){return w(g.stream,g.state),M("{"==e?S:B)}function R(e,r){if("target"==r)return g.marked="keyword",j(D)}function X(e,r){if("target"==r)return g.marked="keyword",j(G)}function Y(e){return":"==e?j(q,S):M(D,P(";"),q)}function Z(e){if("variable"==e)return g.marked="property",j()}function ee(e,r){return"async"==e?(g.marked="property",j(ee)):"variable"==e||"keyword"==g.style?(g.marked="property","get"==r||"set"==r?j(re):(s&&g.state.fatArrowAt==g.stream.start&&(t=g.stream.match(/^\s*:\s*/,!1))&&(g.state.fatArrowAt=g.stream.pos+t[0].length),j(te))):"number"==e||"string"==e?(g.marked=o?"property":g.style+" property",j(te)):"jsonld-keyword"==e?j(te):s&&V(r)?(g.marked="keyword",j(ee)):"["==e?j(U,oe,P("]"),te):"spread"==e?j(B,te):"*"==r?(g.marked="keyword",j(ee)):":"==e?M(te):void 0;var t}function re(e){return"variable"!=e?M(te):(g.marked="property",j(Ee))}function te(e){return":"==e?j(B):"("==e?M(Ee):void 0}function ne(e,r,t){function n(a,i){if(t?t.indexOf(a)>-1:","==a){var o=g.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),j(function(t,n){return t==r||n==r?M():M(e)},n)}return a==r||i==r?j():t&&t.indexOf(";")>-1?M(e):j(P(r))}return function(t,a){return t==r||a==r?j():M(e,n)}}function ae(e,r,t){for(var n=3;n<arguments.length;n++)g.cc.push(arguments[n]);return j(O(r,t),ne(e,r),q)}function ie(e){return"}"==e?j():M(S,ie)}function oe(e,r){if(s){if(":"==e)return j(le);if("?"==r)return j(oe)}}function ce(e,r){if(s&&(":"==e||"in"==r))return j(le)}function se(e){if(s&&":"==e)return g.stream.match(/^\s*\w+\s+is\b/,!1)?j(U,ue,le):j(le)}function ue(e,r){if("is"==r)return g.marked="keyword",j()}function le(e,r){return"keyof"==r||"typeof"==r||"infer"==r?(g.marked="keyword",j("typeof"==r?B:le)):"variable"==e||"void"==r?(g.marked="type",j(me)):"|"==r||"&"==r?j(le):"string"==e||"number"==e||"atom"==e?j(me):"["==e?j(O("]"),ne(le,"]",","),q,me):"{"==e?j(O("}"),ne(de,"}",",;"),q,me):"("==e?j(ne(pe,")"),fe,me):"<"==e?j(ne(le,">"),le):void 0}function fe(e){if("=>"==e)return j(le)}function de(e,r){return"variable"==e||"keyword"==g.style?(g.marked="property",j(de)):"?"==r||"number"==e||"string"==e?j(de):":"==e?j(le):"["==e?j(P("variable"),ce,P("]"),de):"("==e?M(ze,de):void 0}function pe(e,r){return"variable"==e&&g.stream.match(/^\s*[?:]/,!1)||"?"==r?j(pe):":"==e?j(le):"spread"==e?j(pe):M(le)}function me(e,r){return"<"==r?j(O(">"),ne(le,">"),q,me):"|"==r||"."==e||"&"==r?j(le):"["==e?j(le,P("]"),me):"extends"==r||"implements"==r?(g.marked="keyword",j(le)):"?"==r?j(le,P(":"),le):void 0}function ve(e,r){if("<"==r)return j(O(">"),ne(le,">"),q,me)}function ke(){return M(le,ye)}function ye(e,r){if("="==r)return j(le)}function we(e,r){return"enum"==r?(g.marked="keyword",j(Ge)):M(be,oe,ge,Me)}function be(e,r){return s&&V(r)?(g.marked="keyword",j(be)):"variable"==e?(A(r),j()):"spread"==e?j(be):"["==e?ae(he,"]"):"{"==e?ae(xe,"}"):void 0}function xe(e,r){return"variable"!=e||g.stream.match(/^\s*:/,!1)?("variable"==e&&(g.marked="property"),"spread"==e?j(be):"}"==e?M():"["==e?j(U,P("]"),P(":"),xe):j(P(":"),be,ge)):(A(r),j(ge))}function he(){return M(be,ge)}function ge(e,r){if("="==r)return j(B)}function Me(e){if(","==e)return j(we)}function je(e,r){if("keyword b"==e&&"else"==r)return j(O("form","else"),S,q)}function Ce(e,r){return"await"==r?j(Ce):"("==e?j(O(")"),Ae,q):void 0}function Ae(e){return"var"==e?j(we,Ve):"variable"==e?j(Ve):M(Ve)}function Ve(e,r){return")"==e?j():";"==e?j(Ve):"in"==r||"of"==r?(g.marked="keyword",j(U,Ve)):M(U,Ve)}function Ee(e,r){return"*"==r?(g.marked="keyword",j(Ee)):"variable"==e?(A(r),j(Ee)):"("==e?j(T,O(")"),ne(Te,")"),q,se,S,_):s&&"<"==r?j(O(">"),ne(ke,">"),q,Ee):void 0}function ze(e,r){return"*"==r?(g.marked="keyword",j(ze)):"variable"==e?(A(r),j(ze)):"("==e?j(T,O(")"),ne(Te,")"),q,se,_):s&&"<"==r?j(O(">"),ne(ke,">"),q,ze):void 0}function Ie(e,r){return"keyword"==e||"variable"==e?(g.marked="type",j(Ie)):"<"==r?j(O(">"),ne(ke,">"),q):void 0}function Te(e,r){return"@"==r&&j(U,Te),"spread"==e?j(Te):s&&V(r)?(g.marked="keyword",j(Te)):s&&"this"==e?j(oe,ge):M(be,oe,ge)}function $e(e,r){return"variable"==e?_e(e,r):Oe(e,r)}function _e(e,r){if("variable"==e)return A(r),j(Oe)}function Oe(e,r){return"<"==r?j(O(">"),ne(ke,">"),q,Oe):"extends"==r||"implements"==r||s&&","==e?("implements"==r&&(g.marked="keyword"),j(s?le:U,Oe)):"{"==e?j(O("}"),qe,q):void 0}function qe(e,r){return"async"==e||"variable"==e&&("static"==r||"get"==r||"set"==r||s&&V(r))&&g.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(g.marked="keyword",j(qe)):"variable"==e||"keyword"==g.style?(g.marked="property",j(s?Pe:Ee,qe)):"number"==e||"string"==e?j(s?Pe:Ee,qe):"["==e?j(U,oe,P("]"),s?Pe:Ee,qe):"*"==r?(g.marked="keyword",j(qe)):s&&"("==e?M(ze,qe):";"==e||","==e?j(qe):"}"==e?j():"@"==r?j(U,qe):void 0}function Pe(e,r){if("?"==r)return j(Pe);if(":"==e)return j(le,ge);if("="==r)return j(B);var t=g.state.lexical.prev;return M(t&&"interface"==t.info?ze:Ee)}function Se(e,r){return"*"==r?(g.marked="keyword",j(We,P(";"))):"default"==r?(g.marked="keyword",j(U,P(";"))):"{"==e?j(ne(Ne,"}"),We,P(";")):M(S)}function Ne(e,r){return"as"==r?(g.marked="keyword",j(P("variable"))):"variable"==e?M(B,Ne):void 0}function Ue(e){return"string"==e?j():"("==e?M(U):M(Be,Fe,We)}function Be(e,r){return"{"==e?ae(Be,"}"):("variable"==e&&A(r),"*"==r&&(g.marked="keyword"),j(He))}function Fe(e){if(","==e)return j(Be,Fe)}function He(e,r){if("as"==r)return g.marked="keyword",j(Be)}function We(e,r){if("from"==r)return g.marked="keyword",j(U)}function De(e){return"]"==e?j():M(ne(B,"]"))}function Ge(){return M(O("form"),be,P("{"),O("}"),ne(Je,"}"),q,q)}function Je(){return M(be,ge)}function Ke(e,r,t){return r.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(r.lastType)||"quasi"==r.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(t||0)))}return _.lex=!0,q.lex=!0,{startState:function(e){var t={tokenize:m,lastType:"sof",cc:[],lexical:new x((e||0)-a,0,"block",!1),localVars:r.localVars,context:r.localVars&&new E(null,null,!1),indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,r){if(e.sol()&&(r.lexical.hasOwnProperty("align")||(r.lexical.align=!1),r.indented=e.indentation(),w(e,r)),r.tokenize!=v&&e.eatSpace())return null;var a=r.tokenize(e,r);return"comment"==t?a:(r.lastType="operator"!=t||"++"!=n&&"--"!=n?t:"incdec",function(e,r,t,n,a){var i=e.cc;for(g.state=e,g.stream=a,g.marked=null,g.cc=i,g.style=r,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){if((i.length?i.pop():c?U:S)(t,n)){for(;i.length&&i[i.length-1].lex;)i.pop()();return g.marked?g.marked:"variable"==t&&h(e,n)?"variable-2":r}}}(r,a,t,n,e))},indent:function(e,t){if(e.tokenize==v)return CodeMirror.Pass;if(e.tokenize!=m)return 0;var n,o=t&&t.charAt(0),c=e.lexical;if(!/^\s*else\b/.test(t))for(var s=e.cc.length-1;s>=0;--s){var u=e.cc[s];if(u==q)c=c.prev;else if(u!=je)break}for(;("stat"==c.type||"form"==c.type)&&("}"==o||(n=e.cc[e.cc.length-1])&&(n==D||n==G)&&!/^[,\.=+\-*:?[\(]/.test(t));)c=c.prev;i&&")"==c.type&&"stat"==c.prev.type&&(c=c.prev);var l=c.type,d=o==l;return"vardef"==l?c.indented+("operator"==e.lastType||","==e.lastType?c.info.length+1:0):"form"==l&&"{"==o?c.indented:"form"==l?c.indented+a:"stat"==l?c.indented+(function(e,r){return"operator"==e.lastType||","==e.lastType||f.test(r.charAt(0))||/[,.]/.test(r.charAt(0))}(e,t)?i||a:0):"switch"!=c.info||d||0==r.doubleIndentSwitch?c.align?c.column+(d?0:1):c.indented+(d?0:a):c.indented+(/^(?:case|default)\b/.test(t)?a:2*a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:o,jsonMode:c,expressionAllowed:Ke,skipExpression:function(e){var r=e.cc[e.cc.length-1];r!=U&&r!=B||e.cc.pop()}}}),CodeMirror.registerHelper("wordChars","javascript",/[\w$]/),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/x-javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0});
//# sourceMappingURL=javascript.js.map