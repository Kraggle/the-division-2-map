import{jQuery as $}from"../jQuery/jquery3.4.1.js";import{K}from"../K.js";import{sortObjByKeys}from"../functions/misc.js";K.tool.marker={full:!1,layers:{},fill:function(){let e=K.tool.marker;!e.full&&K.each(K.modes.get,function(t,o){e.layers[o]={}}),e.full=!0},enabled:function(){return!!$("#marker-tools").length},show:function(){let e="boolean"==K.type(arguments[0])&&arguments[0];K.tool.marker._show.call(K.tool.marker,e)},_show:function(e){if(this.enabled()){if(e)return;return void $("#marker-tools").remove()}$("body").append('<div id="marker-tools" class="marker-panel"></div>');const t=$("#marker-tools");t.append('<div class="outer inputs">\n                <div class="switch">\n                    <input name="switch" id="_2" type="radio" name="radio" value="underground">\n                    <label for="_2" class="label down" title="Underground">Below</label>\n                    <input name="switch" id="_1" type="radio" name="radio" value="" checked>\n                    <label for="_1" class="label level" title="Ground Level">Ground</label>\n                    <input name="switch" id="_3" type="radio" name="radio" value="overground">\n                    <label for="_3" class="label up" title="Overground">Above</label>\n                    <div class="indicator"></div>\n                </div>\n\t\t\t</div>\n            <div class="outer scroller">\n                <div class="icons"></div>\n            </div>'),t.draggable({containment:"#mapid",start:function(){$(this).css({transform:"translateX(0)",bottom:"initial"})},stop:function(){this.position=K.extend({},$(this).position(),{transform:"translateX(0)",bottom:"initial",width:$(this).width(),height:$(this).height()}),K.local("toolPos",this.position)}}),this.position=K.local("toolPos")||!1,this.position&&(delete this.position.width,delete this.position.height,t.css(this.position)),$(".switch input",t).on("change",function(){$("a",t).removeClass("underground overground").addClass($(this).val())}),K.each(sortObjByKeys(this.layers[K.mode]),function(e,t){$('<span class="category"/>').text(e).appendTo(".outer .icons"),K.each(sortObjByKeys(t),function(t,o){let i=o.o,a=i.type==(K.local("markerToolIcon")||"Contaminated")?"enabled":"",n=!1;K.each(K.shortcuts.QuickMarker,function(e,t){i.type!=t||"Underground"==i.type||(n=e)}),K.mode in i.mode&&$("<a />",{class:a,title:e+"<br>"+i.type.replace("Survival","").space(),category:e,type:i.type,html:`<img src="${i.iconUrl}">${n?'<span class="key">'+n+"</span>":""}`}).data("properties",i).appendTo(".outer .icons")})}),$("#marker-tools a").on("click",function(){let e=$(this).attr("type");$(this).siblings("a").removeClass("enabled"),$(this).addClass("enabled"),K.local("markerToolIcon",e),K.updateMarker($(this).data("properties")),K.bar.draw.Marker.enable()})}};
//# sourceMappingURL=marker.js.map