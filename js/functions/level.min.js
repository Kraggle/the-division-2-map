import{jQuery as $}from"../jQuery/jquery3.4.1.js";import{K}from"../K.js";import{L}from"../Leaflet/leaflet1.5.1.js";K.level={MAP:null,CONTROL:null,layers:{},_click:function(){if($(this).hasClass("active"))return;const t=$(this).data(),s=+$(this).attr("floor");K.each(t.floors,function(t,e){t==s?$(e).fadeIn(400):$(e).fadeOut(400)}),K.each(t.buttons,function(t,e){t==s?$(e).addClass("active"):$(e).removeClass("active")}),K.each(K.level.layers[$(this).attr("unit")],(t,e)=>{t=+t,K.each(e,(e,i)=>{t==s&&i.setLevel("",0),t<s&&i.setLevel("underground",s-t),t>s&&i.setLevel("overground",t-s)})})},build:function(){!this.MAP&&(this.MAP=$("#svg-map")),!this.CONTROL&&(this.CONTROL=$("#control-map")),$("g:regex(id,^l-\\d+$)",this.MAP).each(function(){const t={floors:{},buttons:{}};$(":regex(id,^l-\\d+-+\\d+$)",this).each(function(){const s=this.id.match(/-(-{0,1}\d+$)/)[1];1!=s&&$(this).hide(),t.floors[s]=this}),$(":regex(id,^b-\\d+-+\\d+$)",this).each(function(){$(this).addClass("level-button"),K.level.CONTROL.append($(this).detach()),$(this).on("click",K.level._click);const s=this.id.match(/-(-{0,1}\d+$)/)[1],e=this.id.match(/-(\d+)-/)[1];1==s&&$(this).addClass("active"),t.buttons[s]=this,$(this).data(t),$(this).attr({floor:s,unit:e}),$("path",this).each(function(){"rgb(34, 89, 26)"==$(this).css("fill")&&$(this).addClass("hover-path")})})})}},L.Marker.include({setLevel:function(t,s){this._level=t,this.updateIcon(),this.setOpacity(Math.max(1-Math.abs(s)/5,0))}});
//# sourceMappingURL=level.min.js.map