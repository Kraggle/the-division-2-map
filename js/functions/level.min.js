import{jQuery as $}from"../jQuery/jquery3.4.1.js";import{K}from"../K.js";import{L}from"../Leaflet/leaflet1.5.1.js";K.level={layers:{},_click:function(){if($(this).hasClass("active"))return;const t=$(this).data(),e=+$(this).attr("floor");K.each(t.floors,(function(t,s){t==e?$(s).fadeIn(400):$(s).fadeOut(400)})),K.each(t.buttons,(function(t,s){t==e?$(s).addClass("active"):$(s).removeClass("active")})),K.each(K.level.layers[$(this).attr("unit")],(t,s)=>{t=+t,K.each(s,(s,i)=>{t==e&&i.setLevel("",0),t<e&&i.setLevel("underground",e-t),t>e&&i.setLevel("overground",t-e)})})},build:function(){this.MAP=$("#svg-map"),this.CONTROL=$("#control-map"),$("g:regex(id,^l-\\d+$)",this.MAP).each((function(){const t={floors:{},buttons:{}};$(":regex(id,^l-\\d+-+\\d+$)",this).each((function(){const e=this.id.match(/-(-{0,1}\d+$)/)[1];1!=e&&$(this).hide(),t.floors[e]=this})),$(":regex(id,^b-\\d+-+\\d+$)",this).each((function(){$(this).addClass("level-button"),K.level.CONTROL.append($(this).detach()),$(this).on("click",K.level._click);const e=this.id.match(/-(-{0,1}\d+$)/)[1],s=this.id.match(/-(\d+)-/)[1];1==e&&$(this).addClass("active"),t.buttons[e]=this,$(this).data(t),$(this).attr({floor:e,unit:s}),$("path",this).each((function(){"rgb(34, 89, 26)"==$(this).css("fill")&&$(this).addClass("hover-path")}))}))}))}},L.Marker.include({setLevel:function(t,e){this._level=t,this.updateIcon(),this.setOpacity(Math.max(1-Math.abs(e)/5,0))}});
//# sourceMappingURL=level.min.js.map